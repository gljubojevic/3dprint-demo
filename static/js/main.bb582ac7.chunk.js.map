{"version":3,"sources":["theme.js","ui/AppTools.js","ui/DrawerMenu.js","ui/OptSelector.js","ui/AnimSelector.js","ui/MainSelector.js","editor/View3D.js","App.js","reportWebVitals.js","index.js"],"names":["theme","createTheme","AppTools","AppBar","position","Toolbar","variant","IconButton","edge","color","onClick","this","props","toggleDrawer","Typography","Component","defaultProps","DrawerMenu","bind","save","state","isOpen","e","type","key","setState","fileFormat","currentTarget","dataset","value","console","error","Drawer","anchor","open","onClose","Box","p","component","Divider","List","ListItem","ListItemButton","ListItemIcon","ListItemText","primary","OptSelector","checkChange","radioChange","opts","map","o","idx","path","name","split","FormControlLabel","label","control","Checkbox","checked","visible","onChange","n","v","toggleElement","target","val","i","length","RadioGroup","renderRadios","Radio","optElements","Paper","sx","m","opacity","FormControl","FormLabel","renderCheckboxes","renderRadioSelect","AnimSelector","toggleAnim","enabled","animPoses","MainSelector","menuSelected","selectedOption","menu","optAnimations","toggleAnimation","showDone","disablePadding","showOptions","Fragment","width","zIndex","top","mixins","toolbar","minHeight","bgcolor","borderRadius","renderDone","renderOptions","renderOptionsSelector","renderAnimSelector","View3D","refRenderer","React","createRef","animate","loaderOk","loaderAnimOk","loaderError","loaderProgress","onWindowResize","animations","exporterSTL","STLExporter","exporterOBJ","OBJExporter","clock","THREE","animMixer","scene","background","showGroundPlane","gp","depthWrite","rotation","x","Math","PI","receiveShadow","add","hemiLight","set","dirLight1","dirLight2","dracoLoader","DRACOLoader","setDecoderPath","loadPath","loader","GLTFLoader","setDRACOLoader","ref","paddingTop","log","forSave","clone","remove","traverse","id","uuid","push","startsWith","forEach","getObjectById","parent","parse","binary","rsize","rendererDimensions","camera","height","y","z","renderer","antialias","setSize","current","appendChild","domElement","window","addEventListener","controls","OrbitControls","listenToKeyEvents","enableDamping","dampingFactor","screenSpacePanning","minDistance","maxDistance","maxPolarAngle","update","loadObject","object3D","removeEventListener","d","innerWidth","innerHeight","rst","getComputedStyle","parseFloat","paddingLeft","paddingRight","paddingBottom","aspect","updateProjectionMatrix","filePath","load","undefined","filesCube","setPath","requestAnimationFrame","mixerUpdateDelta","getDelta","render","glTF","loadedObject","grpOpt","findOptional","defaultOptional","omat","flatShading","bb","object","isMesh","material","expandByObject","showBoundingBox","box","showSkeleton","skeleton","cameraToBBox","availableElements","loadAnimation","xhr","loaded","total","anim","act","clipAction","play","action","animSelect","availableAnimations","elOpt","obj","groupOptional","sort","a","b","grp","elCur","elPrev","prevNameParts","curNameParts","el","fitOffset","size","center","getSize","getCenter","maxSize","max","fitHeightDistance","atan","fov","fitWidthDistance","distance","direction","sub","normalize","multiplyScalar","copy","near","far","backgroundCube","App","elements","refDrawerMenu","refView3D","data","blobSTL","Blob","saveAs","blobOBJ","elNamePath","newGroups","group","groupElNamePath","isRadio","anims","process","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","ThemeProvider","CssBaseline","enableColorScheme","document","getElementById"],"mappings":"0NAkBeA,EAdDC,YAAY,I,gGCIpBC,E,4JAEL,WACC,OACC,cAACC,EAAA,EAAD,CAAQC,SAAS,QAAjB,SACC,eAACC,EAAA,EAAD,CAASC,QAAQ,UAAjB,UACC,cAACC,EAAA,EAAD,CAAYC,KAAK,QAAQC,MAAM,UAAU,aAAW,OAAOC,QAASC,KAAKC,MAAMC,aAA/E,SACC,cAAC,IAAD,MAED,cAACC,EAAA,EAAD,CAAYR,QAAQ,KAAKG,MAAM,UAA/B,oC,GATkBM,aAgBvBb,EAASc,aAAe,CACvBH,aAAc,MAOAX,Q,yFCnBTe,E,kDACL,WAAYL,GAAQ,IAAD,8BAClB,cAAMA,IACDC,aAAe,EAAKA,aAAaK,KAAlB,gBACpB,EAAKC,KAAO,EAAKA,KAAKD,KAAV,gBACZ,EAAKE,MAAQ,CACZC,QAAQ,GALS,E,gDASnB,SAAaC,IACG,YAAXA,EAAEC,MAAiC,QAAVD,EAAEE,KAA2B,UAAVF,EAAEE,MAGlDb,KAAKc,SAAS,CAAEJ,QAASV,KAAKS,MAAMC,W,kBAGrC,SAAKC,GACJ,GAAI,OAASX,KAAKC,MAAMO,KAAxB,CAKA,IAAIO,EAAaJ,EAAEK,cAAcC,QAAQC,MACpCH,IACJA,EAAa,OAEdf,KAAKc,SAAS,CAAEJ,QAAO,IACvBV,KAAKC,MAAMO,KAAKO,QATfI,QAAQC,MAAM,yB,oBAYhB,WACC,OACC,cAACC,EAAA,EAAD,CAAQC,OAAO,OAAOC,KAAMvB,KAAKS,MAAMC,OAAQc,QAASxB,KAAKE,aAA7D,SACC,eAACuB,EAAA,EAAD,CAAKC,EAAG,EAAR,UACC,cAACvB,EAAA,EAAD,CAAYR,QAAQ,KAAKgC,UAAU,KAAnC,uBACA,cAACC,EAAA,EAAD,IACA,eAACC,EAAA,EAAD,CAAMF,UAAU,MAAM,aAAW,gBAAjC,UACC,cAACG,EAAA,EAAD,UACC,eAACC,EAAA,EAAD,CAAgBhC,QAASC,KAAKQ,KAAM,aAAW,MAA/C,UACC,cAACwB,EAAA,EAAD,UAAc,cAAC,IAAD,MACd,cAACC,EAAA,EAAD,CAAcC,QAAQ,4BAGxB,cAACJ,EAAA,EAAD,UACC,eAACC,EAAA,EAAD,CAAgBhC,QAASC,KAAKQ,KAAM,aAAW,MAA/C,UACC,cAACwB,EAAA,EAAD,UAAc,cAAC,IAAD,MACd,cAACC,EAAA,EAAD,CAAcC,QAAQ,wC,GA/CL9B,aAyDzBE,EAAWD,aAAe,CACzBG,KAAM,MAOQF,Q,oHCpET6B,E,kDACL,WAAYlC,GAAQ,IAAD,8BAClB,cAAMA,IACDmC,YAAc,EAAKA,YAAY7B,KAAjB,gBACnB,EAAK8B,YAAc,EAAKA,YAAY9B,KAAjB,gBAHD,E,oDAMnB,SAAiB+B,GAAO,IAAD,OACtB,OAAOA,EAAKC,KAAI,SAACC,EAAGC,GACnB,IAAIC,EAAOF,EAAEG,KAAKC,MAAM,KACpBD,EAAOD,EAAK,GAAK,IAAMA,EAAK,GAChC,OACC,cAACG,EAAA,EAAD,CAA4BC,MAAOH,EAAMzB,MAAOsB,EAAEG,KAAMI,QAAS,cAACC,EAAA,EAAD,CAAUC,QAAST,EAAEU,QAASC,SAAU,EAAKf,eAAvFK,Q,yBAK1B,SAAY9B,GACX,IAAMyC,EAAIzC,EAAEK,cAAcE,MACpBmC,EAAI1C,EAAEK,cAAciC,QAEtB,OAAUjD,KAAKC,MAAMqD,eACxBtD,KAAKC,MAAMqD,cAAc,CAACX,KAAKS,EAAGF,QAAQG,M,yBAI5C,SAAY1C,GAEP,OAAUX,KAAKC,MAAMqD,eACxBtD,KAAKC,MAAMqD,cAAc,CAACX,KAAKhC,EAAE4C,OAAOrC,MAAOgC,SAAQ,M,+BAIzD,SAAkBZ,GAEjB,IADA,IAAIkB,EAAM,GACDC,EAAI,EAAGA,EAAInB,EAAKoB,OAAQD,IAC5BnB,EAAKmB,GAAGP,UACXM,EAAMlB,EAAKmB,GAAGd,MAIhB,OACC,cAACgB,EAAA,EAAD,CACC,kBAAgB,sCAChBhB,KAAK,iCACLzB,MAAOsC,EACPL,SAAUnD,KAAKqC,YAJhB,SAKErC,KAAK4D,aAAatB,O,0BAKtB,SAAaA,GACZ,OAAOA,EAAKC,KAAI,SAACC,EAAGC,GACnB,IAAIC,EAAOF,EAAEG,KAAKC,MAAM,KACpBD,EAAOD,EAAK,GAAK,IAAMA,EAAK,GAChC,OACC,cAACG,EAAA,EAAD,CAA4BC,MAAOH,EAAMzB,MAAOsB,EAAEG,KAAMI,QAAS,cAACc,EAAA,EAAD,KAA1CpB,Q,oBAK1B,WAAU,IAAD,OACR,OAAOzC,KAAKC,MAAM6D,YAAYvB,KAAI,SAACD,EAAMG,GACxC,IAAM5B,EAAM,OAAS4B,EACfK,EAAQR,EAAK,GAAGK,KAAKC,MAAM,KAAK,GACtC,OACC,cAACmB,EAAA,EAAD,CAAOC,GAAI,CAACtC,EAAG,EAAGuC,EAAG,EAAGC,QAAS,IAAjC,SACC,eAACC,EAAA,EAAD,WACC,cAACC,EAAA,EAAD,CAAWzC,UAAU,SAArB,SAA+BmB,IAC7B,IAAMR,EAAKoB,OAAU,EAAKW,iBAAiB/B,GAAQ,EAAKgC,kBAAkBhC,OAHjCzB,U,GAnEvBT,aA8E1B+B,EAAY9B,aAAe,CAC1ByD,YAAa,GACbR,cAAe,MAQDnB,QCzFToC,E,kDACL,WAAYtE,GAAQ,IAAD,8BAClB,cAAMA,IACDoC,YAAc,EAAKA,YAAY9B,KAAjB,gBAFD,E,+CAKnB,SAAYI,GAEP,OAAUX,KAAKC,MAAMuE,YACxBxE,KAAKC,MAAMuE,WAAW7D,EAAE4C,OAAOrC,S,+BAIjC,SAAkBoB,GAGjB,IADA,IAAIkB,EAAM,GACDC,EAAI,EAAGA,EAAInB,EAAKoB,OAAQD,IAC5BnB,EAAKmB,GAAGgB,UACXjB,EAAMlB,EAAKmB,GAAGd,MAIhB,OACC,cAACgB,EAAA,EAAD,CACC,kBAAgB,sCAChBhB,KAAK,iCACLzB,MAAOsC,EACPL,SAAUnD,KAAKqC,YAJhB,SAKErC,KAAK4D,aAAatB,O,0BAKtB,SAAaA,GACZ,OAAOA,EAAKC,KAAI,SAACC,EAAGC,GACnB,OACC,cAACI,EAAA,EAAD,CAA4BC,MAAON,EAAEG,KAAMzB,MAAOsB,EAAEG,KAAMI,QAAS,cAACc,EAAA,EAAD,KAA5CpB,Q,oBAK1B,WACC,OACC,cAACsB,EAAA,EAAD,CAAOC,GAAI,CAACtC,EAAG,EAAGuC,EAAG,EAAGC,QAAS,IAAjC,SACC,eAACC,EAAA,EAAD,WACC,cAACC,EAAA,EAAD,CAAWzC,UAAU,SAArB,yBACC3B,KAAKsE,kBAAkBtE,KAAKC,MAAMyE,oB,GA9CbtE,aAqD3BmE,EAAalE,aAAe,CAC3BqE,UAAW,GACXF,WAAY,MAQED,QC1DTI,G,kDACL,WAAY1E,GAAQ,IAAD,8BAClB,cAAMA,IACD2E,aAAe,EAAKA,aAAarE,KAAlB,gBACpB,EAAKE,MAAQ,CACZoE,eAAgB,IAJC,E,gDAQnB,SAAalE,GAEZ,IAAMmE,EAAOnE,EAAEK,cAAcC,QAAQC,MACrClB,KAAKc,SAAS,CAAE+D,eAAeC,M,mCAGhC,WACC,MAAkC,cAA9B9E,KAAKS,MAAMoE,eACP,KAGP,cAAC,EAAD,CAAaf,YAAa9D,KAAKC,MAAM6D,YAAaR,cAAetD,KAAKC,MAAMqD,kB,gCAI9E,WACC,MAAkC,SAA9BtD,KAAKS,MAAMoE,eACP,KAGP,cAAC,EAAD,CAAcH,UAAW1E,KAAKC,MAAM8E,cAAeP,WAAYxE,KAAKC,MAAM+E,oB,wBAI5E,SAAWC,GACV,OAAKA,EAIJ,cAACnD,EAAA,EAAD,CAAUoD,gBAAc,EAAxB,SACC,eAACnD,EAAA,EAAD,CAAgBhC,QAASC,KAAK4E,aAAc,aAAW,GAAvD,UACC,cAAC5C,EAAA,EAAD,UACC,cAAC,IAAD,MAED,cAACC,EAAA,EAAD,CAAcC,QAAQ,cARjB,O,2BAcT,SAAciD,GACb,OAAKA,EAIJ,eAAC,IAAMC,SAAP,WACC,cAACtD,EAAA,EAAD,CAAUoD,gBAAc,EAAxB,SACC,eAACnD,EAAA,EAAD,CAAgBhC,QAASC,KAAK4E,aAAc,aAAW,YAAvD,UACC,cAAC5C,EAAA,EAAD,UACC,cAAC,IAAD,MAED,cAACC,EAAA,EAAD,CAAcC,QAAQ,yBAGxB,cAACJ,EAAA,EAAD,CAAUoD,gBAAc,EAAxB,SACC,eAACnD,EAAA,EAAD,CAAgBhC,QAASC,KAAK4E,aAAc,aAAW,OAAvD,UACC,cAAC5C,EAAA,EAAD,UACC,cAAC,IAAD,MAED,cAACC,EAAA,EAAD,CAAcC,QAAQ,wBAjBlB,O,oBAwBT,WACC,IAAM+C,EAAyC,KAA9BjF,KAAKS,MAAMoE,eAC5B,OACC,eAACpD,EAAA,EAAD,CAAKuC,GAAI,CACRqB,MAAO,GACPpB,EAAG,EACHqB,OAAQ,SACR7F,SAAU,WACV8F,IAAK,SAAClG,GAAD,OAAWA,EAAMmG,OAAOC,QAAQC,UAAY,OALlD,UAOC,eAAC7D,EAAA,EAAD,CAAMmC,GAAI,CAAE2B,QAAS,mBAAoBzB,QAAS,GAAK0B,aAAc,GAArE,UACE5F,KAAK6F,WAAWZ,GAChBjF,KAAK8F,eAAeb,MAErBjF,KAAK+F,wBACL/F,KAAKgG,4B,GA1FiB5F,aAgG3BuE,GAAatE,aAAe,CAC3ByD,YAAa,GACbR,cAAe,KACfyB,cAAe,GACfC,gBAAiB,MAUHL,U,0DClHTsB,G,kDACL,WAAYhG,GAAQ,IAAD,EA6BlB,GA7BkB,qBAClB,cAAMA,IAEDiG,YAAcC,IAAMC,YAEzB,EAAK5F,KAAO,EAAKA,KAAKD,KAAV,gBACZ,EAAK8F,QAAU,EAAKA,QAAQ9F,KAAb,gBACf,EAAK+F,SAAW,EAAKA,SAAS/F,KAAd,gBAChB,EAAKgG,aAAe,EAAKA,aAAahG,KAAlB,gBACpB,EAAKiG,YAAc,EAAKA,YAAYjG,KAAjB,gBACnB,EAAKkG,eAAiB,EAAKA,eAAelG,KAApB,gBACtB,EAAK+C,cAAgB,EAAKA,cAAc/C,KAAnB,gBACrB,EAAKmG,eAAiB,EAAKA,eAAenG,KAApB,gBACtB,EAAKoG,WAAa,GAGlB,EAAKC,YAAc,IAAIC,KACvB,EAAKC,YAAc,IAAIC,KAGvB,EAAKC,MAAQ,IAAIC,KACjB,EAAKC,UAAY,KAGjB,EAAKC,MAAQ,IAAIF,MACjB,EAAKE,MAAMC,WAAa,IAAIH,KAAa,UAIrC,EAAKhH,MAAMoH,gBAAiB,CAC/B,IAAMC,EAAK,IAAIL,KACd,IAAIA,KAAoB,EAAG,GAC3B,IAAIA,KAAyB,CAAEnH,MAAO,QAAUyH,YAAY,KAE7DD,EAAGE,SAASC,GAAMC,KAAKC,GAAK,EAC5BL,EAAGM,eAAgB,EACnBN,EAAG3E,KAAO,mBACV,EAAKwE,MAAMU,IAAIP,GAIhB,IAAMQ,EAAY,IAAIb,KAAuB,SAAU,SACvDa,EAAUrI,SAASsI,IAAK,EAAG,GAAI,GAC/B,EAAKZ,MAAMU,IAAKC,GAahB,EAAKE,UAAY,IAAIf,KAAwB,UAC7C,EAAKe,UAAUvI,SAASsI,IAAK,EAAG,EAAG,GACnC,EAAKZ,MAAMU,IAAK,EAAKG,WAErB,EAAKC,UAAY,IAAIhB,KAAwB,UAC7C,EAAKgB,UAAUxI,SAASsI,KAAM,GAAI,GAAI,GACtC,EAAKZ,MAAMU,IAAK,EAAKI,WAMrB,IAAMC,EAAc,IAAIC,KApEN,OAqElBD,EAAYE,eAAenI,EAAMoI,SAAW,gBAG5C,EAAKC,OAAS,IAAIC,KAClB,EAAKD,OAAOE,eAAeN,GAzET,E,0CA6EnB,WAGC,OACC,cAACzG,EAAA,EAAD,CACCgH,IAAKzI,KAAKkG,YACVlC,GAAI,CACH0E,WAAY,SAACrJ,GAAD,OAAWA,EAAMmG,OAAOC,QAAQC,UAAY,W,kBAO5D,SAAK3E,GACJI,QAAQwH,IAAI,iBAEZ,IAAIC,EAAU5I,KAAKmH,MAAM0B,QAErBC,EAAS,GAgBb,OAfAF,EAAQG,UAAS,SAASvG,GACpBA,EAAEU,UACN/B,QAAQwH,IAAI,YAAanG,EAAEG,KAAMH,EAAEwG,GAAIxG,EAAEyG,MACzCH,EAAOI,KAAK1G,EAAEwG,KAEXxG,EAAEG,KAAKwG,WAAW,SACrBL,EAAOI,KAAK1G,EAAEwG,OAIhBF,EAAOM,SAAQ,SAAAJ,GACd,IAAIxG,EAAIoG,EAAQS,cAAcL,GAC9BxG,EAAE8G,OAAOR,OAAOtG,MAGTzB,GACP,IAAK,MACJ,OAAOf,KAAK4G,YAAY2C,MAAMX,EAAS,CAACY,QAAO,IAChD,IAAK,MACJ,OAAOxJ,KAAK8G,YAAYyC,MAAMX,GAIhC,OAAO5I,KAAK4G,YAAY2C,MAAMX,EAAS,CAACY,QAAO,M,+BAIhD,WAEC,IAAMC,EAAQzJ,KAAK0J,qBAGnB1J,KAAK2J,OAAS,IAAI1C,KAAyB,GAAIwC,EAAMpE,MAAQoE,EAAMG,OAAQ,GAAK,KAChF5J,KAAK2J,OAAOlK,SAASoK,EAAI,GACzB7J,KAAK2J,OAAOlK,SAASqK,EAAI,GAEzB9J,KAAK+J,SAAW,IAAI9C,MAAoB,CAAE+C,WAAW,IAErDhK,KAAK+J,SAASE,QAAQR,EAAMpE,MAAOoE,EAAMG,QAGzC5J,KAAKkG,YAAYgE,QAAQC,YAAanK,KAAK+J,SAASK,YAEpDC,OAAOC,iBAAkB,SAAUtK,KAAK0G,gBAGxC1G,KAAKuK,SAAW,IAAIC,KAAexK,KAAK2J,OAAQ3J,KAAK+J,SAASK,YAC9DpK,KAAKuK,SAASE,kBAAmBJ,QACjCrK,KAAKuK,SAASG,eAAgB,EAC9B1K,KAAKuK,SAASI,cAAgB,IAC9B3K,KAAKuK,SAASK,oBAAqB,EACnC5K,KAAKuK,SAASM,YAAc,IAC5B7K,KAAKuK,SAASO,YAAc,EAC5B9K,KAAKuK,SAASQ,cAAgBrD,KAAKC,GAAK,EACxC3H,KAAKuK,SAAShH,OAAS,IAAI0D,MAAc,EAAG,IAAM,GAClDjH,KAAKuK,SAASS,SAGdhL,KAAKqG,UAGD,OAASrG,KAAKC,MAAMoI,UAQxBrI,KAAKiL,WAAWjL,KAAKC,MAAMiL,Y,kCAG5B,WAECb,OAAOc,oBAAqB,SAAUnL,KAAK0G,kB,gCAG5C,WACC,IAAI0E,EAAI,CAEP/F,MAAOgF,OAAOgB,WAEdzB,OAAQS,OAAOiB,aAEZC,EAAMC,iBAAiBxL,KAAKkG,YAAYgE,SAI5C,OAHAkB,EAAE/F,OAASoG,WAAWF,EAAIG,aAAeD,WAAWF,EAAII,cACxDP,EAAExB,QAAU6B,WAAWF,EAAI7C,YAAc+C,WAAWF,EAAIK,eAEjDR,I,4BAIR,WACC,IAAM3B,EAAQzJ,KAAK0J,qBACnB1J,KAAK2J,OAAOkC,OAASpC,EAAMpE,MAAQoE,EAAMG,OACzC5J,KAAK2J,OAAOmC,yBACZ9L,KAAK+J,SAASE,QAASR,EAAMpE,MAAOoE,EAAMG,U,wBAI3C,SAAWmC,GACN,OAASA,GAGb/L,KAAKsI,OAAO0D,KACXhM,KAAKC,MAAMoI,SAAW0D,EACtB/L,KAAKsG,cACL2F,EACAjM,KAAKwG,e,2BAKP,SAAcuF,GACT,OAASA,GAGb/L,KAAKsI,OAAO0D,KACXhM,KAAKC,MAAMoI,SAAW0D,EACtB/L,KAAKuG,kBACL0F,EACAjM,KAAKwG,e,gCAKP,SAAmB0F,GAClB,GAAI,OAASA,EAGb,OAAO,IAAIjF,MACTkF,QAAQnM,KAAKC,MAAMoI,UACnB2D,KAAKE,K,qBAGR,WAIC,GAHAE,sBAAuBpM,KAAKqG,SAGxB,OAASrG,KAAKkH,UAAW,CAE5B,IAAImF,EAAmBrM,KAAKgH,MAAMsF,WAElCtM,KAAKkH,UAAU8D,OAAQqB,EAAmB,GAG3CrM,KAAK+J,SAASwC,OAAQvM,KAAKmH,MAAOnH,KAAK2J,U,sBAIxC,SAAS6C,GACRrL,QAAQwH,IAAI,iBAEZ3I,KAAKyM,aAAeD,EAAKrF,MAGzB,IAAIuF,EAAS1M,KAAK2M,eAElB3M,KAAK4M,gBAAgBF,GAErB,IAAMG,EAAO,IAAI5F,KAAyB,CAAEnH,MAAO,QAAUgN,aAAa,IAEtEC,EAAK,IAAI9F,KAUb,GATAjH,KAAKyM,aAAa1D,UAAU,SAASiE,GAC9BA,EAAOC,SAEbD,EAAOE,SAAWL,EAElBE,EAAGI,eAAeH,OAIfhN,KAAKC,MAAMmN,gBAAiB,CAC/B,IAAMC,EAAM,IAAIpG,KAAiB8F,EAAI,UACrCM,EAAI1K,KAAO,mBACX3C,KAAKmH,MAAMU,IAAKwF,GAIjB,GAAIrN,KAAKC,MAAMqN,aAAc,CAC5B,IAAMC,EAAW,IAAItG,MAAqBjH,KAAKyM,cAC/Cc,EAAS5K,KAAO,eAChB4K,EAASrK,SAAU,EACnBlD,KAAKmH,MAAMU,IAAK0F,GAIjBvN,KAAKwN,aAAaT,EAAI/M,KAAK2J,OAAQ3J,KAAKuK,SAAU,GAGlDvK,KAAKmH,MAAMU,IAAI7H,KAAKyM,cAGpBzM,KAAKkH,UAAY,IAAID,KAAqBjH,KAAKyM,cAG3C,OAASzM,KAAKC,MAAMwN,mBACvBzN,KAAKC,MAAMwN,kBAAkBf,GAI9B1M,KAAK2G,WAAa,GAElB,IAAK,IAAIlD,EAAI,EAAGA,EAAIzD,KAAKC,MAAMyE,UAAUhB,OAAQD,IAEhDzD,KAAK0N,cAAc1N,KAAKC,MAAMyE,UAAUjB,M,4BAK1C,SAAgBkK,GACfxM,QAAQwH,IAAOgF,EAAIC,OAASD,EAAIE,MAAQ,IAAQ,c,yBAIjD,SAAYzM,GACXD,QAAQC,MAAMA,K,0BAIf,SAAaoL,GAGZ,IAAMsB,EAAOtB,EAAK7F,WAAW,GACvBoH,EAAM/N,KAAKkH,UAAU8G,WAAWF,GAStC,GARAC,EAAItJ,SAAU,EACdsJ,EAAIE,OAEJjO,KAAK2G,WAAWuC,KAAK,CACpBvG,KAAMmL,EAAKnL,KACXuL,OAAQH,IAGL/N,KAAKC,MAAMyE,UAAUhB,SAAW1D,KAAK2G,WAAWjD,OAApD,CAIA,IAAIyK,EAAa,GACjBA,EAAWjF,KAAK,CAAEvG,KAAM,OAAQ8B,SAAS,IACzC,IAAK,IAAIhB,EAAI,EAAGA,EAAIzD,KAAK2G,WAAWjD,OAAQD,IAC3C0K,EAAWjF,KAAK,CAAEvG,KAAM3C,KAAK2G,WAAWlD,GAAGd,KAAM8B,SAAS,IAEvD,OAASzE,KAAKC,MAAMmO,qBACvBpO,KAAKC,MAAMmO,oBAAoBD,M,0BAMjC,WACC,IAAIE,EAAM,GAeV,OAdArO,KAAKyM,aAAa1D,UAAU,SAASuF,GAE/BA,EAAI3L,KAAKwG,WAAW,UAIzBmF,EAAIpL,SAAU,EAEdmL,EAAMnF,KAAK,CACVvG,KAAM2L,EAAI3L,KACVO,SAAS,QAIJlD,KAAKuO,cAAcF,K,2BAI3B,SAAcA,GACb,IAAI3B,EAAS,GACb,GAAI,IAAM2B,EAAM3K,OACf,OAAOgJ,EAGR2B,EAAMG,MAAK,SAACC,EAAEC,GACb,OAAID,EAAE9L,KAAO+L,EAAE/L,MAAgB,EAC3B8L,EAAE9L,KAAO+L,EAAE/L,KAAe,EACvB,KAGR,IAAIgM,EAAM,GACNC,EAAQP,EAAM,GACdQ,EAASD,EACbD,EAAIzF,KAAK0F,GAET,IAAK,IAAInL,EAAI,EAAGA,EAAI4K,EAAM3K,OAAQD,IAAK,CACtCmL,EAAQP,EAAM5K,GAId,IAAIqL,EAAgBD,EAAOlM,KAAKC,MAAM,KAClCmM,EAAeH,EAAMjM,KAAKC,MAAM,KAGhCkM,EAAc,KAAOC,EAAa,KACrCrC,EAAOxD,KAAKyF,GACZA,EAAM,IAGPA,EAAIzF,KAAK0F,GACTC,EAASD,EAIV,OADAlC,EAAOxD,KAAKyF,GACLjC,I,6BAIR,SAAgBA,GACf,IAAK,IAAIjJ,EAAI,EAAGA,EAAIiJ,EAAOhJ,OAAQD,IAE9B,IAAMiJ,EAAOjJ,GAAGC,SAIpBgJ,EAAOjJ,GAAG,GAAGP,SAAU,EACvBlD,KAAKsD,cAAcoJ,EAAOjJ,GAAG,O,2BAM/B,SAAcuL,GACb7N,QAAQwH,IAAI,iBAAkBqG,GAC9BhP,KAAKyM,aAAa1D,UAAU,SAASuF,GAChCA,EAAI3L,OAASqM,EAAGrM,OACnB2L,EAAIpL,QAAU8L,EAAG9L,c,6BAKpB,SAAgBP,GACfxB,QAAQwH,IAAI,mBAAoBhG,GAChC,IAAK,IAAIc,EAAI,EAAGA,EAAIzD,KAAK2G,WAAWjD,OAAQD,IAC3CzD,KAAK2G,WAAWlD,GAAGyK,OAAOzJ,QAAUzE,KAAK2G,WAAWlD,GAAGd,OAASA,I,0BAKlE,SAAa0K,EAAK1D,EAAQY,GAA4B,IAAlB0E,EAAiB,uDAAL,IACzCC,EAAO,IAAIjI,MACXkI,EAAS,IAAIlI,MACnBoG,EAAI+B,QAAQF,GACZ7B,EAAIgC,UAAUF,GAEd,IAAMG,EAAU5H,KAAK6H,IAAIL,EAAKzH,EAAGyH,EAAKrF,EAAGqF,EAAKpF,GACxC0F,EAAoBF,GAAW,EAAI5H,KAAK+H,KAAK/H,KAAKC,GAAKgC,EAAO+F,IAAM,MACpEC,EAAmBH,EAAoB7F,EAAOkC,OAC9C+D,EAAWX,EAAYvH,KAAK6H,IAAIC,EAAmBG,GAEnDE,EAAYtF,EAAShH,OAAOsF,QAChCiH,IAAInG,EAAOlK,UACXsQ,YACAC,eAAeJ,GAEjBrF,EAASO,YAAyB,GAAX8E,EACvBrF,EAAShH,OAAO0M,KAAKd,GAErBxF,EAAOuG,KAAON,EAAW,IACzBjG,EAAOwG,IAAiB,IAAXP,EACbjG,EAAOmC,yBAEPnC,EAAOlK,SAASwQ,KAAK1F,EAAShH,QAAQuM,IAAID,GAE1CtF,EAASS,a,GA/cU5K,aAmdrB6F,GAAO5F,aAAe,CACrBgI,SAAU,KACV6C,SAAU,KACVxG,UAAW,KACX0I,iBAAiB,EACjBE,cAAc,EACdjG,iBAAiB,EACjB+I,eAAgB,KAChB3C,kBAAmB,KACnBW,oBAAqB,MAePnI,U,SC/WAoK,G,kDA9Hd,WAAYpQ,GAAQ,IAAD,8BAClB,cAAMA,IACDQ,MAAQ,CACZ6P,SAAU,GACV3J,WAAY,IAEb,EAAK4J,cAAgBpK,IAAMC,YAC3B,EAAKoK,UAAYrK,IAAMC,YACvB,EAAKlG,aAAe,EAAKA,aAAaK,KAAlB,gBACpB,EAAKC,KAAO,EAAKA,KAAKD,KAAV,gBACZ,EAAKkN,kBAAoB,EAAKA,kBAAkBlN,KAAvB,gBACzB,EAAK+C,cAAgB,EAAKA,cAAc/C,KAAnB,gBACrB,EAAK6N,oBAAsB,EAAKA,oBAAoB7N,KAAzB,gBAC3B,EAAKyE,gBAAkB,EAAKA,gBAAgBzE,KAArB,gBAbL,E,gDAgBnB,SAAaI,GACZX,KAAKuQ,cAAcrG,QAAQhK,aAAaS,K,kBAGzC,SAAKI,GAEJ,IAAI0P,EAAOzQ,KAAKwQ,UAAUtG,QAAQ1J,KAAKO,GAEvC,OAAQA,GACP,IAAK,MACJ,IAAI2P,EAAU,IAAIC,KAAM,CAACF,GAAO,CAAE7P,KAAO,6BACzCgQ,kBAAOF,EAAS,iBAChB,MACD,IAAK,MACJ,IAAIG,EAAU,IAAIF,KAAM,CAAEF,GAAQ,CAAE7P,KAAM,eAC1CgQ,kBAAOC,EAAS,iBAChB,MACD,QACC1P,QAAQwH,IAAI,6BAA6B5H,M,+BAM5C,SAAkBuP,GACjBtQ,KAAKc,SAAS,CAACwP,SAASA,M,2BAGzB,SAActB,GAAK,IAAD,OACX8B,EAAa9B,EAAGrM,KAAKC,MAAM,KAC7BmO,EAAY/Q,KAAKS,MAAM6P,SAAS/N,KAAI,SAACyO,GAExC,IAAMC,EAAkBD,EAAM,GAAGrO,KAAKC,MAAM,KAE5C,GAAIkO,EAAW,KAAOG,EAAgB,GACrC,OAAOD,EAGR,IAAME,EAAUF,EAAMtN,OAAS,EAC/B,OAAOsN,EAAMzO,KAAI,SAAC5B,GAYjB,OAVIA,EAAEgC,OAASqM,EAAGrM,MACjBhC,EAAEuC,QAAU8L,EAAG9L,QACf,EAAKsN,UAAUtG,QAAQ5G,cAAc3C,IAGjCuQ,IACHvQ,EAAEuC,SAAW8L,EAAG9L,QAChB,EAAKsN,UAAUtG,QAAQ5G,cAAc3C,IAGhCA,QAGTX,KAAKc,SAAS,CAACwP,SAASS,M,iCAIzB,SAAoBpK,GACnB3G,KAAKc,SAAS,CAAC6F,WAAWA,M,6BAG3B,SAAgBhE,GACf,IAAIwO,EAAQnR,KAAKS,MAAMkG,WAAWpE,KAAI,SAACkM,GAEtC,OADAA,EAAEhK,QAAUgK,EAAE9L,OAASA,EAChB8L,KAERzO,KAAKwQ,UAAUtG,QAAQlF,gBAAgBrC,GACvC3C,KAAKc,SAAS,CAAC6F,WAAWwK,M,oBAG3B,WACC,OACC,eAAC,IAAM/L,SAAP,WACC,cAAC,EAAD,CAAUlF,aAAcF,KAAKE,eAC7B,cAAC,EAAD,CAAYuI,IAAKzI,KAAKuQ,cAAe/P,KAAMR,KAAKQ,OAChD,cAAC,GAAD,CAAQiI,IAAKzI,KAAKwQ,UAAWnI,SAAU+I,gBACtClG,SAAS,gCACTkF,eAAgB,CACf,gCACA,gCACA,gCACA,gCACA,gCACA,iCAED1L,UAAW,CACV,yBACA,2BACA,wBACA,2BACA,yBACA,wBACA,4BACA,0BACA,2BACA,2BACA,wBACA,yBACA,gCACA,uBAED+I,kBAAmBzN,KAAKyN,kBACxBW,oBAAqBpO,KAAKoO,sBAC3B,cAAC,GAAD,CAActK,YAAa9D,KAAKS,MAAM6P,SAAUhN,cAAetD,KAAKsD,cAAeyB,cAAe/E,KAAKS,MAAMkG,WAAY3B,gBAAiBhF,KAAKgF,yB,GAzHjI5E,aCKHiR,GAZS,SAAAC,GACnBA,GAAeA,aAAuBC,UACzC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC5DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCEXQ,IAASvF,OACR,cAAC,IAAMwF,WAAP,UACC,eAACC,EAAA,EAAD,CAAe3S,MAAOA,EAAtB,UACC,cAAC4S,EAAA,EAAD,CAAaC,mBAAiB,IAE9B,cAAC,GAAD,SAGFC,SAASC,eAAe,SAMzBf,O","file":"static/js/main.bb582ac7.chunk.js","sourcesContent":["//import { red } from '@mui/material/colors';\nimport { createTheme } from '@mui/material/styles';\n\n// A custom theme for this app\nconst theme = createTheme({\n//\tpalette: {\n//\t\tprimary: {\n//\t\t\tmain: '#556cd6',\n//\t\t},\n//\t\tsecondary: {\n//\t\t\tmain: '#19857b',\n//\t\t},\n//\t\terror: {\n//\t\t\tmain: red.A400,\n//\t\t},\n//\t},\n});\n\nexport default theme;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar from '@mui/material/AppBar';\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\nimport IconButton from '@mui/material/IconButton';\nimport MenuIcon from '@mui/icons-material/Menu';\n\nclass AppTools extends Component {\n\n\trender() {\n\t\treturn (\n\t\t\t<AppBar position=\"fixed\">\n\t\t\t\t<Toolbar variant=\"regular\">\n\t\t\t\t\t<IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\" onClick={this.props.toggleDrawer}>\n\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<Typography variant=\"h6\" color=\"inherit\">3D Print demo</Typography>\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n\t\t);\n\t}\n}\n\nAppTools.defaultProps = {\n\ttoggleDrawer: null\n}\n\nAppTools.propTypes = {\n\ttoggleDrawer: PropTypes.func\n}\n\nexport default AppTools;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Divider from '@mui/material/Divider';\nimport Drawer from '@mui/material/Drawer';\nimport Box from '@mui/material/Box';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemButton from '@mui/material/ListItemButton';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport Typography from '@mui/material/Typography';\nimport Save from '@mui/icons-material/Save';\n\nclass DrawerMenu extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.toggleDrawer = this.toggleDrawer.bind(this);\n\t\tthis.save = this.save.bind(this);\n\t\tthis.state = {\n\t\t\tisOpen: false\n\t\t}\n\t}\n\n\ttoggleDrawer(e) {\n\t\tif (e.type === 'keydown' && (e.key === 'Tab' || e.key === 'Shift')) {\n\t\t\treturn;\n\t\t}\n\t\tthis.setState({ isOpen: !this.state.isOpen });\n\t}\n\n\tsave(e) {\n\t\tif (null === this.props.save) {\n\t\t\tconsole.error(\"No save handler set\");\n\t\t\treturn;\n\t\t}\n\t\t// read from \"data-value\" attribute\n\t\tlet fileFormat = e.currentTarget.dataset.value;\n\t\tif (!fileFormat) {\n\t\t\tfileFormat = \"STL\" // default to STL format\n\t\t}\n\t\tthis.setState({ isOpen:false });\n\t\tthis.props.save(fileFormat);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Drawer anchor=\"left\" open={this.state.isOpen} onClose={this.toggleDrawer}>\n\t\t\t\t<Box p={1}>\n\t\t\t\t\t<Typography variant=\"h4\" component=\"h4\">Main menu</Typography>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<List component=\"nav\" aria-label=\"main selector\">\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<ListItemButton onClick={this.save} data-value=\"STL\">\n\t\t\t\t\t\t\t\t<ListItemIcon><Save /></ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText primary=\"Save STL for print\" />\n\t\t\t\t\t\t\t</ListItemButton>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<ListItemButton onClick={this.save} data-value=\"OBJ\">\n\t\t\t\t\t\t\t\t<ListItemIcon><Save /></ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText primary=\"Save OBJ for print\" />\n\t\t\t\t\t\t\t</ListItemButton>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</List>\n\t\t\t\t</Box>\n\t\t\t</Drawer>\n\t\t);\n\t}\n}\n\nDrawerMenu.defaultProps = {\n\tsave: null\n}\n\nDrawerMenu.propTypes = {\n\tsave: PropTypes.func\n}\n\nexport default DrawerMenu;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Paper from '@mui/material/Paper';\nimport FormLabel from '@mui/material/FormLabel';\nimport FormControl from '@mui/material/FormControl';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Checkbox from '@mui/material/Checkbox';\nimport Radio from '@mui/material/Radio';\nimport RadioGroup from '@mui/material/RadioGroup';\n\nclass OptSelector extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.checkChange = this.checkChange.bind(this);\n\t\tthis.radioChange = this.radioChange.bind(this);\n\t}\n\n\trenderCheckboxes(opts) {\n\t\treturn opts.map((o, idx) => {\n\t\t\tlet path = o.name.split('_');\n\t\t\tlet name = path[1] + ' ' + path[2];\n\t\t\treturn (\n\t\t\t\t<FormControlLabel key={idx} label={name} value={o.name} control={<Checkbox checked={o.visible} onChange={this.checkChange}  />} />\n\t\t\t);\n\t\t});\n\t}\n\n\tcheckChange(e) {\n\t\tconst n = e.currentTarget.value;\n\t\tconst v = e.currentTarget.checked;\n\t\t//console.log(n, \"check change ->\", v);\n\t\tif (null !==  this.props.toggleElement) {\n\t\t\tthis.props.toggleElement({name:n, visible:v});\n\t\t}\n\t}\n\n\tradioChange(e) {\n\t\t//console.log(\"radio change ->\", e.target.value);\n\t\tif (null !==  this.props.toggleElement) {\n\t\t\tthis.props.toggleElement({name:e.target.value, visible:true});\n\t\t}\n\t}\n\n\trenderRadioSelect(opts) {\n\t\tlet val = '';\n\t\tfor (let i = 0; i < opts.length; i++) {\n\t\t\tif (opts[i].visible) {\n\t\t\t\tval = opts[i].name;\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<RadioGroup\n\t\t\t\taria-labelledby=\"demo-controlled-radio-buttons-group\"\n\t\t\t\tname=\"controlled-radio-buttons-group\"\n\t\t\t\tvalue={val}\n\t\t\t\tonChange={this.radioChange}>\n\t\t\t\t{this.renderRadios(opts)}\n\t\t\t</RadioGroup>\n\t\t);\n\t}\n\n\trenderRadios(opts) {\n\t\treturn opts.map((o, idx) => {\n\t\t\tlet path = o.name.split('_');\n\t\t\tlet name = path[1] + ' ' + path[2];\n\t\t\treturn (\n\t\t\t\t<FormControlLabel key={idx} label={name} value={o.name} control={<Radio />} />\n\t\t\t);\n\t\t});\n\t}\n\n\trender() {\n\t\treturn this.props.optElements.map((opts, idx) => {\n\t\t\tconst key = \"opt_\" + idx;\n\t\t\tconst label = opts[0].name.split('_')[1];\n\t\t\treturn (\n\t\t\t\t<Paper sx={{p: 1, m: 1, opacity: 0.8 }} key={key}>\n\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t<FormLabel component=\"legend\">{label}</FormLabel>\n\t\t\t\t\t\t{(1 === opts.length) ? this.renderCheckboxes(opts) : this.renderRadioSelect(opts)}\n\t\t\t\t\t</FormControl>\n\t\t\t\t</Paper>\n\t\t\t);\n\t\t});\n\t}\n}\n\nOptSelector.defaultProps = {\n\toptElements: [],\n\ttoggleElement: null\n}\n\nOptSelector.propTypes = {\n\toptElements: PropTypes.array,\n\ttoggleElement: PropTypes.func\n}\n\nexport default OptSelector;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Paper from '@mui/material/Paper';\nimport FormLabel from '@mui/material/FormLabel';\nimport FormControl from '@mui/material/FormControl';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Radio from '@mui/material/Radio';\nimport RadioGroup from '@mui/material/RadioGroup';\n\nclass AnimSelector extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.radioChange = this.radioChange.bind(this);\n\t}\n\n\tradioChange(e) {\n\t\t//console.log(\"radio change ->\", e.target.value);\n\t\tif (null !==  this.props.toggleAnim) {\n\t\t\tthis.props.toggleAnim(e.target.value);\n\t\t}\n\t}\n\n\trenderRadioSelect(opts) {\n\t\t// find enabled\n\t\tlet val = '';\n\t\tfor (let i = 0; i < opts.length; i++) {\n\t\t\tif (opts[i].enabled) {\n\t\t\t\tval = opts[i].name;\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<RadioGroup\n\t\t\t\taria-labelledby=\"demo-controlled-radio-buttons-group\"\n\t\t\t\tname=\"controlled-radio-buttons-group\"\n\t\t\t\tvalue={val}\n\t\t\t\tonChange={this.radioChange}>\n\t\t\t\t{this.renderRadios(opts)}\n\t\t\t</RadioGroup>\n\t\t);\n\t}\n\n\trenderRadios(opts) {\n\t\treturn opts.map((o, idx) => {\n\t\t\treturn (\n\t\t\t\t<FormControlLabel key={idx} label={o.name} value={o.name} control={<Radio />} />\n\t\t\t);\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Paper sx={{p: 1, m: 1, opacity: 0.8 }}>\n\t\t\t\t<FormControl>\n\t\t\t\t\t<FormLabel component=\"legend\">SELECT POSE</FormLabel>\n\t\t\t\t\t{this.renderRadioSelect(this.props.animPoses)}\n\t\t\t\t</FormControl>\n\t\t\t</Paper>\n\t\t);\n\t}\n}\n\nAnimSelector.defaultProps = {\n\tanimPoses: [],\n\ttoggleAnim: null\n}\n\nAnimSelector.propTypes = {\n\tanimPoses: PropTypes.array,\n\ttoggleAnim: PropTypes.func\n}\n\nexport default AnimSelector;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemButton from '@mui/material/ListItemButton';\nimport ListItemText from '@mui/material/ListItemText';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport AccessibilityNewIcon from '@mui/icons-material/AccessibilityNew';\nimport EditIcon from '@mui/icons-material/Edit';\nimport OptSelector from './OptSelector';\nimport AnimSelector from './AnimSelector';\n\nclass MainSelector extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.menuSelected = this.menuSelected.bind(this);\n\t\tthis.state = {\n\t\t\tselectedOption: \"\"\n\t\t}\n\t}\n\n\tmenuSelected(e) {\n\t\t// read from \"data-value\" attribute\n\t\tconst menu = e.currentTarget.dataset.value;\n\t\tthis.setState({ selectedOption:menu });\n\t}\n\n\trenderOptionsSelector() {\n\t\tif (this.state.selectedOption !== \"configure\") {\n\t\t\treturn null;\n\t\t}\n\t\treturn (\n\t\t\t<OptSelector optElements={this.props.optElements} toggleElement={this.props.toggleElement} />\n\t\t);\n\t}\n\n\trenderAnimSelector() {\n\t\tif (this.state.selectedOption !== \"pose\") {\n\t\t\treturn null;\n\t\t}\n\t\treturn (\n\t\t\t<AnimSelector animPoses={this.props.optAnimations} toggleAnim={this.props.toggleAnimation} />\n\t\t);\n\t}\n\n\trenderDone(showDone) {\n\t\tif (!showDone) {\n\t\t\treturn null;\n\t\t}\n\t\treturn (\n\t\t\t<ListItem disablePadding>\n\t\t\t\t<ListItemButton onClick={this.menuSelected} data-value=\"\">\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<ArrowBackIcon />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText primary=\"DONE\" />\n\t\t\t\t</ListItemButton>\n\t\t\t</ListItem>\n\t\t);\n\t}\n\n\trenderOptions(showOptions) {\n\t\tif (!showOptions) {\n\t\t\treturn null;\n\t\t}\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<ListItem disablePadding>\n\t\t\t\t\t<ListItemButton onClick={this.menuSelected} data-value=\"configure\">\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary=\"CONFIGURE MODEL\" />\n\t\t\t\t\t</ListItemButton>\n\t\t\t\t</ListItem>\n\t\t\t\t<ListItem disablePadding>\n\t\t\t\t\t<ListItemButton onClick={this.menuSelected} data-value=\"pose\">\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<AccessibilityNewIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary=\"SELECT POSE\" />\n\t\t\t\t\t</ListItemButton>\n\t\t\t\t</ListItem>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst showDone = this.state.selectedOption !== \"\";\n\t\treturn (\n\t\t\t<Box sx={{ \n\t\t\t\twidth: 1/5,\n\t\t\t\tm: 2,\n\t\t\t\tzIndex: 'appBar', \n\t\t\t\tposition: 'absolute', \n\t\t\t\ttop: (theme) => theme.mixins.toolbar.minHeight + 'px'\n\t\t\t}}>\n\t\t\t\t<List sx={{ bgcolor: 'background.paper', opacity: 0.8, borderRadius: 1 }}>\n\t\t\t\t\t{this.renderDone(showDone)}\n\t\t\t\t\t{this.renderOptions(!showDone)}\n\t\t\t\t</List>\n\t\t\t\t{this.renderOptionsSelector()}\n\t\t\t\t{this.renderAnimSelector()}\n\t\t\t</Box>\n\t\t);\n\t}\n}\n\nMainSelector.defaultProps = {\n\toptElements: [],\n\ttoggleElement: null,\n\toptAnimations: [],\n\ttoggleAnimation: null\n}\n\nMainSelector.propTypes = {\n\toptElements: PropTypes.array,\n\ttoggleElement: PropTypes.func,\n\toptAnimations: PropTypes.array,\n\ttoggleAnimation: PropTypes.func\n}\n\nexport default MainSelector;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport * as THREE from \"three\";\nimport Box from '@mui/material/Box';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport { DRACOLoader } from 'three/examples/jsm/loaders/DRACOLoader.js';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { STLExporter } from 'three/examples/jsm/exporters/STLExporter.js';\nimport { OBJExporter } from 'three/examples/jsm/exporters/OBJExporter.js';\n\nclass View3D extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.refRenderer = React.createRef();\n\t\t// methods\n\t\tthis.save = this.save.bind(this);\n\t\tthis.animate = this.animate.bind(this);\n\t\tthis.loaderOk = this.loaderOk.bind(this);\n\t\tthis.loaderAnimOk = this.loaderAnimOk.bind(this);\n\t\tthis.loaderError = this.loaderError.bind(this);\n\t\tthis.loaderProgress = this.loaderProgress.bind(this);\n\t\tthis.toggleElement = this.toggleElement.bind(this);\n\t\tthis.onWindowResize = this.onWindowResize.bind(this);\n\t\tthis.animations = [];\n\n\t\t// Init exporters\n\t\tthis.exporterSTL = new STLExporter();\n\t\tthis.exporterOBJ = new OBJExporter();\n\n\t\t// init animation clock\n\t\tthis.clock = new THREE.Clock();\n\t\tthis.animMixer = null;\n\n\t\t// Init default scene\n\t\tthis.scene = new THREE.Scene();\n\t\tthis.scene.background = new THREE.Color( 0xafafaf );\n\t\t//this.scene.fog = new THREE.Fog( 0xa0a0a0, 10, 50 );\n\n\t\t// ground plane\n\t\tif (this.props.showGroundPlane) {\n\t\t\tconst gp = new THREE.Mesh(\n\t\t\t\tnew THREE.PlaneGeometry(2, 2),\n\t\t\t\tnew THREE.MeshPhongMaterial( { color: 0x888888, depthWrite: false } ) \n\t\t\t);\n\t\t\tgp.rotation.x = - Math.PI / 2;\n\t\t\tgp.receiveShadow = true;\n\t\t\tgp.name = \"hlp_ground_plane\";\n\t\t\tthis.scene.add(gp);\n\t\t}\n\n\t\t// Ligts from example\n\t\tconst hemiLight = new THREE.HemisphereLight( 0xffffff, 0x444444 );\n\t\themiLight.position.set( 0, 20, 0 );\n\t\tthis.scene.add( hemiLight );\n\n\t\t//const dirLight = new THREE.DirectionalLight( 0xffffff );\n\t\t//dirLight.position.set( - 3, 10, - 10 );\n\t\t//dirLight.castShadow = true;\n\t\t//dirLight.shadow.camera.top = 2;\n\t\t//dirLight.shadow.camera.bottom = - 2;\n\t\t//dirLight.shadow.camera.left = - 2;\n\t\t//dirLight.shadow.camera.right = 2;\n\t\t//dirLight.shadow.camera.near = 0.1;\n\t\t//dirLight.shadow.camera.far = 40;\n\t\t//this.scene.add( dirLight );\n\t\t\n\t\tthis.dirLight1 = new THREE.DirectionalLight( 0xffffff );\n\t\tthis.dirLight1.position.set( 2, 2, 2 );\n\t\tthis.scene.add( this.dirLight1 );\n\n\t\tthis.dirLight2 = new THREE.DirectionalLight( 0xffffff );\n\t\tthis.dirLight2.position.set( -2, -2, -2 );\n\t\tthis.scene.add( this.dirLight2 );\n\n\t\t//this.ambientLight = new THREE.AmbientLight( 0x222222 );\n\t\t//this.scene.add( this.ambientLight );\n\n\t\t// glTF decompressor, with path for decompression lib loading\n\t\tconst dracoLoader = new DRACOLoader()\n\t\tdracoLoader.setDecoderPath(props.loadPath + '/libs/draco/')\n\t\t//dracoLoader.setDecoderConfig({type: 'js'});\t// (Optional) Override detection of WASM support.\n\t\t// init object loader with decompressor\n\t\tthis.loader = new GLTFLoader();\n\t\tthis.loader.setDRACOLoader(dracoLoader)\n\t}\n\n\t// just empty div to add renderer\n\trender() {\n\t\t// this is to make container below toolbar\n\t\t// theme access is possible through function generating sx\n\t\treturn (\n\t\t\t<Box\n\t\t\t\tref={this.refRenderer} \n\t\t\t\tsx={{\n\t\t\t\t\tpaddingTop: (theme) => theme.mixins.toolbar.minHeight + 'px'\n\t\t\t\t}} \n\t\t\t/>\n\t\t);\n\t}\n\n\t// extract scene and save object\n\tsave(fileFormat) {\n\t\tconsole.log(\"Saving object\");\n\t\t// clone scene to remove hidden\n\t\tlet forSave = this.scene.clone();\n\t\t// find invisible to remove\n\t\tlet remove = [];\n\t\tforSave.traverse(function(o){\n\t\t\tif (!o.visible) {\n\t\t\t\tconsole.log(\"To remove\", o.name, o.id, o.uuid);\n\t\t\t\tremove.push(o.id);\n\t\t\t}\n\t\t\tif (o.name.startsWith('hlp_')) {\n\t\t\t\tremove.push(o.id);\n\t\t\t}\n\t\t});\n\t\t// finally remove invisible\n\t\tremove.forEach(id => {\n\t\t\tlet o = forSave.getObjectById(id);\n\t\t\to.parent.remove(o);\n\t\t});\n\t\t// return cleaned\n\t\tswitch (fileFormat) {\n\t\t\tcase \"STL\":\n\t\t\t\treturn this.exporterSTL.parse(forSave, {binary:true});\n\t\t\tcase \"OBJ\":\n\t\t\t\treturn this.exporterOBJ.parse(forSave)\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn this.exporterSTL.parse(forSave, {binary:true});\n\t}\n\n\t// init three.js renderer\n\tcomponentDidMount() {\n\t\t// renderer element\n\t\tconst rsize = this.rendererDimensions();\n\n\t\t// setup camera\n\t\tthis.camera = new THREE.PerspectiveCamera( 75, rsize.width / rsize.height, 0.1, 100 );\n\t\tthis.camera.position.y = 0.20;\n\t\tthis.camera.position.z = 0.10;\n\n\t\tthis.renderer = new THREE.WebGLRenderer({ antialias: true });\n\t\t//this.renderer.setPixelRatio( window.devicePixelRatio );\t// doubles pixels?!?\n\t\tthis.renderer.setSize(rsize.width, rsize.height);\n\t\t//this.renderer.shadowMap.enabled = true;\n\t\t// use ref as a mount point of the Three.js scene instead of the document.body\n\t\tthis.refRenderer.current.appendChild( this.renderer.domElement );\n\t\t// Add handler for resizing\n\t\twindow.addEventListener( 'resize', this.onWindowResize );\n\n\t\t// controls\n\t\tthis.controls = new OrbitControls( this.camera, this.renderer.domElement );\n\t\tthis.controls.listenToKeyEvents( window ); // optional\n\t\tthis.controls.enableDamping = true; // an animation loop is required when either damping or auto-rotation are enabled\n\t\tthis.controls.dampingFactor = 0.05;\n\t\tthis.controls.screenSpacePanning = false;\n\t\tthis.controls.minDistance = 0.22;\n\t\tthis.controls.maxDistance = 2;\n\t\tthis.controls.maxPolarAngle = Math.PI / 2;\n\t\tthis.controls.target = new THREE.Vector3(0, 0.15, 0);\n\t\tthis.controls.update();\n\n\t\t// start animation\n\t\tthis.animate();\n\n\t\t// can we load\n\t\tif (null === this.props.loadPath) {\n\t\t\treturn;\n\t\t}\n\t\t// kickstart loading\n\t\t//this.scene.background = this.loadBackgroundCube(this.props.backgroundCube);\n\t\t//const reflectionCube = this.loadBackgroundCube(this.props.backgroundCube);\n\n\t\t//this.cubeMaterial1 = new THREE.MeshLambertMaterial( { color: 0xffffff, envMap: reflectionCube } );\n\t\tthis.loadObject(this.props.object3D);\n\t}\n\n\tcomponentWillUnmount() {\n\t\t// remove handler for resizing\n\t\twindow.removeEventListener( 'resize', this.onWindowResize );\n\t}\n\n\trendererDimensions(){\n\t\tlet d = {\n\t\t\t//width: this.refRenderer.current.clientWidth,\n\t\t\twidth: window.innerWidth,\n\t\t\t//height: this.refRenderer.current.clientHeight\n\t\t\theight: window.innerHeight\n\t\t}\n\t\tlet rst = getComputedStyle(this.refRenderer.current);\n\t\td.width -= parseFloat(rst.paddingLeft) + parseFloat(rst.paddingRight);\n\t\td.height -= parseFloat(rst.paddingTop) + parseFloat(rst.paddingBottom);\n\t\t//console.log(d);\n\t\treturn d;\n\t}\n\n\t// TODO: fix resizing \n\tonWindowResize() {\n\t\tconst rsize = this.rendererDimensions();\n\t\tthis.camera.aspect = rsize.width / rsize.height;\n\t\tthis.camera.updateProjectionMatrix();\n\t\tthis.renderer.setSize( rsize.width, rsize.height );\n\t}\n\n\n\tloadObject(filePath){\n\t\tif (null === filePath) {\n\t\t\treturn;\n\t\t}\n\t\tthis.loader.load(\n\t\t\tthis.props.loadPath + filePath,\n\t\t\tthis.loaderOk,\n\t\t\tundefined, //this.loaderProgress,\n\t\t\tthis.loaderError\n\t\t);\n\t}\n\n\n\tloadAnimation(filePath) {\n\t\tif (null === filePath) {\n\t\t\treturn;\n\t\t}\n\t\tthis.loader.load(\n\t\t\tthis.props.loadPath + filePath,\n\t\t\tthis.loaderAnimOk,\n\t\t\tundefined, //this.loaderProgress,\n\t\t\tthis.loaderError\n\t\t);\n\t}\n\n\n\tloadBackgroundCube(filesCube) {\n\t\tif (null === filesCube) {\n\t\t\treturn;\n\t\t}\n\t\treturn new THREE.CubeTextureLoader()\n\t\t\t.setPath(this.props.loadPath)\n\t\t\t.load(filesCube);\n\t}\n\n\tanimate() {\n\t\trequestAnimationFrame( this.animate );\n\n\t\t// only when object is loaded and we have mixer\n\t\tif (null !== this.animMixer) {\n\t\t\t// Get the time elapsed since the last frame, used for mixer update (if not in single step mode)\n\t\t\tlet mixerUpdateDelta = this.clock.getDelta();\n\t\t\t// Update the animation mixer, the stats panel, and render this frame\n\t\t\tthis.animMixer.update( mixerUpdateDelta / 2 );\n\t\t}\n\t\t\n\t\tthis.renderer.render( this.scene, this.camera );\n\t};\n\n\t// called when object is loaded\n\tloaderOk(glTF) {\n\t\tconsole.log(\"Object loaded\");\n\t\t//console.log(glTF);\n\t\tthis.loadedObject = glTF.scene;\n\n\t\t// find optional elements\n\t\tlet grpOpt = this.findOptional();\n\t\t// preselect optional elements\n\t\tthis.defaultOptional(grpOpt);\n\n\t\tconst omat = new THREE.MeshPhongMaterial( { color: 0x226622, flatShading: true } )\n\t\t// enable shadow and set material, must have directional light, calc bounding box\n\t\tlet bb = new THREE.Box3();\n\t\tthis.loadedObject.traverse( function(object) {\n\t\t\tif ( !object.isMesh ) { return; }\n\t\t\t//object.castShadow = true;\n\t\t\tobject.material = omat;\n\t\t\t// calc bounding box\n\t\t\tbb.expandByObject(object);\n\t\t});\n\n\t\t// display bounding box\n\t\tif (this.props.showBoundingBox) {\n\t\t\tconst box = new THREE.Box3Helper(bb, 0xff0000)\n\t\t\tbox.name = \"hlp_bounding_box\";\n\t\t\tthis.scene.add( box );\n\t\t}\n\n\t\t// visible skeleton\n\t\tif (this.props.showSkeleton) {\n\t\t\tconst skeleton = new THREE.SkeletonHelper(this.loadedObject);\n\t\t\tskeleton.name = 'hlp_skeleton';\n\t\t\tskeleton.visible = true;\n\t\t\tthis.scene.add( skeleton );\n\t\t}\n\n\t\t// adjust camera to object loaded\n\t\tthis.cameraToBBox(bb, this.camera, this.controls, 1.0);\n\n\t\t// set scene for display\n\t\tthis.scene.add(this.loadedObject);\n\n\t\t// create mixer for animations\n\t\tthis.animMixer = new THREE.AnimationMixer(this.loadedObject);\n\t\t\n\t\t// Call changed list of models\n\t\tif (null !== this.props.availableElements) {\n\t\t\tthis.props.availableElements(grpOpt);\n\t\t}\n\n\t\t// clear all previous animations\n\t\tthis.animations = [];\n\t\t// call animation loading\n\t\tfor (let i = 0; i < this.props.animPoses.length; i++) {\n\t\t\t//console.log(\"Loading anim\", this.props.animPoses[i]);\n\t\t\tthis.loadAnimation(this.props.animPoses[i]);\n\t\t}\n\t}\n\n\t// called while loading is progressing\n\tloaderProgress (xhr) {\n\t\tconsole.log( ( xhr.loaded / xhr.total * 100 ) + '% loaded' );\n\t}\n\n\t// called when object load fails\n\tloaderError(error) {\n\t\tconsole.error(error);\n\t}\n\n\t// animation is loaded\n\tloaderAnimOk(glTF) {\n\t\t//console.log(glTF);\n\t\t// init action\n\t\tconst anim = glTF.animations[0];\n\t\tconst act = this.animMixer.clipAction(anim);\n\t\tact.enabled = false;\n\t\tact.play();\n\t\t// add animation to list\n\t\tthis.animations.push({\n\t\t\tname: anim.name,\n\t\t\taction: act\n\t\t});\n\t\t// check all loaded to push list\n\t\tif (this.props.animPoses.length !== this.animations.length) {\n\t\t\treturn;\n\t\t}\n\t\t// crate anim selection\n\t\tlet animSelect = [];\n\t\tanimSelect.push({ name: 'None', enabled: true });\n\t\tfor (let i = 0; i < this.animations.length; i++) {\n\t\t\tanimSelect.push({ name: this.animations[i].name, enabled: false });\n\t\t}\n\t\tif (null !== this.props.availableAnimations) {\n\t\t\tthis.props.availableAnimations(animSelect);\n\t\t}\n\t}\n\n\t// finds optional objects, and hide them \n\t// only hides objects starting with name prefix \"opt_\"\n\tfindOptional() {\n\t\tlet elOpt=[];\n\t\tthis.loadedObject.traverse( function(obj) {\n\t\t\t// skip non optional objects\n\t\t\tif (!obj.name.startsWith(\"opt_\")) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// hide optional objects\n\t\t\tobj.visible = false;\n\t\t\t// add to list for hide/show\n\t\t\telOpt.push({\n\t\t\t\tname: obj.name,\n\t\t\t\tvisible: false\n\t\t\t});\n\t\t});\n\n\t\treturn this.groupOptional(elOpt);\n\t}\n\n\t// Groups all optional elements for selection UI\n\tgroupOptional(elOpt) {\n\t\tlet grpOpt = [];\n\t\tif (0 === elOpt.length) {\n\t\t\treturn grpOpt;\n\t\t}\n\t\t// sort before grouping\n\t\telOpt.sort((a,b) => {\n\t\t\tif (a.name < b.name) { return -1; }\n\t\t\tif (a.name > b.name) { return 1; }\n\t\t\treturn 0;\n\t\t});\n\n\t\tlet grp = [];\n\t\tlet elCur = elOpt[0];\n\t\tlet elPrev = elCur;\n\t\tgrp.push(elCur);\n\n\t\tfor (let i = 1; i < elOpt.length; i++) {\n\t\t\telCur = elOpt[i];\n\n\t\t\t// split names to get category info\n\t\t\t// 2nd is category if matches it is same category\n\t\t\tlet prevNameParts = elPrev.name.split('_');\n\t\t\tlet curNameParts = elCur.name.split('_');\n\n\t\t\t// check for different category\n\t\t\tif (prevNameParts[1] !== curNameParts[1]) {\n\t\t\t\tgrpOpt.push(grp);\n\t\t\t\tgrp = [];\n\t\t\t}\n\n\t\t\tgrp.push(elCur);\n\t\t\telPrev = elCur;\n\t\t}\n\n\t\tgrpOpt.push(grp);\n\t\treturn grpOpt;\n\t}\n\n\t// makes default selection\n\tdefaultOptional(grpOpt) {\n\t\tfor (let i = 0; i < grpOpt.length; i++) {\n\t\t\t// skip preselect when only one optional element in group\n\t\t\tif (1 === grpOpt[i].length) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t// preselect first in group\n\t\t\tgrpOpt[i][0].visible = true;\n\t\t\tthis.toggleElement(grpOpt[i][0]);\n\t\t}\n\t}\n\n\t// toggle visible element, check for traversing scene..\n\t// https://github.com/mrdoob/three.js/blob/dev/examples/jsm/exporters/STLExporter.js\n\ttoggleElement(el) {\n\t\tconsole.log(\"Toggle visible\", el);\n\t\tthis.loadedObject.traverse( function(obj) {\n\t\t\tif (obj.name === el.name) {\n\t\t\t\tobj.visible = el.visible;\n\t\t\t}\n\t\t});\n\t}\n\n\ttoggleAnimation(name) {\n\t\tconsole.log(\"Toggle animation\", name);\n\t\tfor (let i = 0; i < this.animations.length; i++) {\n\t\t\tthis.animations[i].action.enabled = this.animations[i].name === name;\n\t\t}\n\t}\n\n\t// point camera and controls to bounding box\n\tcameraToBBox(box, camera, controls, fitOffset = 1.2) {\n\t\tconst size = new THREE.Vector3();\n\t\tconst center = new THREE.Vector3();\n\t\tbox.getSize(size);\n\t\tbox.getCenter(center );\n\n\t\tconst maxSize = Math.max(size.x, size.y, size.z);\n\t\tconst fitHeightDistance = maxSize / (2 * Math.atan(Math.PI * camera.fov / 360));\n\t\tconst fitWidthDistance = fitHeightDistance / camera.aspect;\n\t\tconst distance = fitOffset * Math.max(fitHeightDistance, fitWidthDistance);\n\n\t\tconst direction = controls.target.clone()\n\t\t\t.sub(camera.position)\n\t\t\t.normalize()\n\t\t\t.multiplyScalar(distance);\n\n\t\tcontrols.maxDistance = distance * 10;\n\t\tcontrols.target.copy(center);\n\n\t\tcamera.near = distance / 100;\n\t\tcamera.far = distance * 100;\n\t\tcamera.updateProjectionMatrix();\n\n\t\tcamera.position.copy(controls.target).sub(direction);\n\n\t\tcontrols.update();\n\t}\n}\n\nView3D.defaultProps = {\n\tloadPath: null,\n\tobject3D: null,\n\tanimPoses: null,\n\tshowBoundingBox: false,\n\tshowSkeleton: false,\n\tshowGroundPlane: true,\n\tbackgroundCube: null,\n\tavailableElements: null,\n\tavailableAnimations: null\n}\n\nView3D.propTypes = {\n\tloadPath: PropTypes.string,\n\tobject3D: PropTypes.string,\n\tanimPoses: PropTypes.array,\n\tshowBoundingBox: PropTypes.bool,\n\tshowSkeleton: PropTypes.bool,\n\tshowGroundPlane: PropTypes.bool,\n\tbackgroundCube: PropTypes.array,\n\tavailableElements: PropTypes.func,\n\tavailableAnimations: PropTypes.func\n}\n\nexport default View3D;","import React, { Component } from 'react';\nimport AppTools from './ui/AppTools';\nimport DrawerMenu from './ui/DrawerMenu';\nimport MainSelector from './ui/MainSelector';\nimport View3D from './editor/View3D';\nimport { saveAs } from 'file-saver';\n\nclass App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\telements: [],\n\t\t\tanimations: []\n\t\t}\n\t\tthis.refDrawerMenu = React.createRef();\n\t\tthis.refView3D = React.createRef();\n\t\tthis.toggleDrawer = this.toggleDrawer.bind(this);\n\t\tthis.save = this.save.bind(this);\n\t\tthis.availableElements = this.availableElements.bind(this);\n\t\tthis.toggleElement = this.toggleElement.bind(this);\n\t\tthis.availableAnimations = this.availableAnimations.bind(this);\n\t\tthis.toggleAnimation = this.toggleAnimation.bind(this);\n\t}\n\n\ttoggleDrawer(e) {\n\t\tthis.refDrawerMenu.current.toggleDrawer(e);\n\t}\n\n\tsave(fileFormat) {\n\t\t// get data from scene\n\t\tlet data = this.refView3D.current.save(fileFormat);\n\t\t//console.log(\"Data for save ->\", data);\n\t\tswitch (fileFormat) {\n\t\t\tcase \"STL\":\n\t\t\t\tlet blobSTL = new Blob( [data], { type : 'application/octet-stream' } ); \n\t\t\t\tsaveAs(blobSTL, \"for-print.stl\");\n\t\t\t\tbreak;\n\t\t\tcase \"OBJ\":\n\t\t\t\tlet blobOBJ = new Blob( [ data ], { type: 'text/plain' } );\n\t\t\t\tsaveAs(blobOBJ, \"for-print.obj\");\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.log(\"Unsupported file format ->\",fileFormat);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Set list of elements to hide and show\n\tavailableElements(elements) {\n\t\tthis.setState({elements:elements});\n\t}\n\n\ttoggleElement(el) {\n\t\tconst elNamePath = el.name.split('_');\n\t\tlet newGroups = this.state.elements.map((group)=> {\n\t\t\t// check if same group on first element\n\t\t\tconst groupElNamePath = group[0].name.split('_');\n\t\t\t// Not same group skip check\n\t\t\tif (elNamePath[1] !== groupElNamePath[1]) {\n\t\t\t\treturn group\n\t\t\t}\n\n\t\t\tconst isRadio = group.length > 1;\n\t\t\treturn group.map((e) => {\n\t\t\t\t// change state of element\n\t\t\t\tif (e.name === el.name) {\n\t\t\t\t\te.visible = el.visible;\n\t\t\t\t\tthis.refView3D.current.toggleElement(e);\n\t\t\t\t} else {\n\t\t\t\t\t// when is radio selection toggle invert previous selection\n\t\t\t\t\tif (isRadio) {\n\t\t\t\t\t\te.visible = !el.visible;\n\t\t\t\t\t\tthis.refView3D.current.toggleElement(e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn e;\n\t\t\t});\n\t\t});\n\t\tthis.setState({elements:newGroups});\n\t}\n\n\t// Set list of animations for selection\n\tavailableAnimations(animations) {\n\t\tthis.setState({animations:animations});\n\t}\n\t\n\ttoggleAnimation(name) {\n\t\tlet anims = this.state.animations.map((a) => {\n\t\t\ta.enabled = a.name === name;\n\t\t\treturn a;\n\t\t})\n\t\tthis.refView3D.current.toggleAnimation(name);\n\t\tthis.setState({animations:anims});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<AppTools toggleDrawer={this.toggleDrawer} />\n\t\t\t\t<DrawerMenu ref={this.refDrawerMenu} save={this.save} />\n\t\t\t\t<View3D ref={this.refView3D} loadPath={process.env.PUBLIC_URL} \n\t\t\t\t\tobject3D=\"/objects/rhodesia-solider.glb\"\n\t\t\t\t\tbackgroundCube={[\n\t\t\t\t\t\t'/textures/Brudslojan/posx.jpg',\n\t\t\t\t\t\t'/textures/Brudslojan/negx.jpg',\n\t\t\t\t\t\t'/textures/Brudslojan/posy.jpg',\n\t\t\t\t\t\t'/textures/Brudslojan/negy.jpg',\n\t\t\t\t\t\t'/textures/Brudslojan/posz.jpg',\n\t\t\t\t\t\t'/textures/Brudslojan/negz.jpg'\n\t\t\t\t\t]}\n\t\t\t\t\tanimPoses={[\n\t\t\t\t\t\t'/anims/fire_rifle.gltf',\n\t\t\t\t\t\t'/anims/hit_reaction.gltf',\n\t\t\t\t\t\t'/anims/reloading.gltf',\n\t\t\t\t\t\t'/anims/rifle_aiming.gltf',\n\t\t\t\t\t\t'/anims/rifle_jump.gltf',\n\t\t\t\t\t\t'/anims/rifle_run.gltf',\n\t\t\t\t\t\t'/anims/run_backwards.gltf',\n\t\t\t\t\t\t'/anims/starfe_left.gltf',\n\t\t\t\t\t\t'/anims/starfe_right.gltf',\n\t\t\t\t\t\t'/anims/toss_grenade.gltf',\n\t\t\t\t\t\t'/anims/turn_left.gltf',\n\t\t\t\t\t\t'/anims/turn_right.gltf',\n\t\t\t\t\t\t'/anims/walking_backwards.gltf',\n\t\t\t\t\t\t'/anims/walking.gltf'\n\t\t\t\t\t]}\n\t\t\t\t\tavailableElements={this.availableElements}\n\t\t\t\t\tavailableAnimations={this.availableAnimations} />\n\t\t\t\t<MainSelector optElements={this.state.elements} toggleElement={this.toggleElement} optAnimations={this.state.animations} toggleAnimation={this.toggleAnimation} />\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\n\t\timport('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n\t\t\tgetCLS(onPerfEntry);\n\t\t\tgetFID(onPerfEntry);\n\t\t\tgetFCP(onPerfEntry);\n\t\t\tgetLCP(onPerfEntry);\n\t\t\tgetTTFB(onPerfEntry);\n\t\t});\n\t}\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport { ThemeProvider } from '@mui/material/styles';\nimport theme from './theme';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<ThemeProvider theme={theme}>\n\t\t\t<CssBaseline enableColorScheme />\n\t\t\t{/* The rest of your application */}\n\t\t\t<App />\n\t\t</ThemeProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}